{"version":3,"sources":["src/app/account/login/login.component.html","src/app/account/register/register.component.html","src/app/account/account-routing.module.ts","src/app/account/account.module.ts","src/app/account/login/login.component.scss","src/app/account/login/login.component.ts","src/app/account/register/register.component.scss","src/app/account/register/register.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"d-flex justify-content-center mt-5\\\">\\n  <div class=\\\"col-3\\\">\\n    <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\" autocomplete=\\\"off\\\">\\n      <div class=\\\"text-center mb-4\\\">\\n        <h1 class=\\\"h3 mb-3 font-weight-normal\\\">Login</h1>\\n      </div>\\n      <app-text-input formControlName=\\\"email\\\" [label]=\\\"'Email Address'\\\"></app-text-input>\\n      <app-text-input formControlName=\\\"password\\\" [label]=\\\"'Password'\\\" [type]=\\\"'password'\\\"></app-text-input>\\n\\n      <button [disabled]=\\\"loginForm.invalid\\\" class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">\\n        Sign in\\n      </button>\\n    </form>\\n  </div>\\n</div>\\n\"","export default \"<div class=\\\"d-flex justify-content-center mt-5\\\">\\n  <div class=\\\"col-3\\\">\\n    <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"onSubmit()\\\" autocomplete=\\\"off\\\">\\n      <div class=\\\"text-center mb-4\\\">\\n        <h1 class=\\\"h3 mb-3 font-weight-normal\\\">Register</h1>\\n      </div>\\n      <app-text-input formControlName=\\\"displayName\\\" [label]=\\\"'Display Name'\\\"></app-text-input>\\n      <app-text-input formControlName=\\\"email\\\" [label]=\\\"'Email Address'\\\"></app-text-input>\\n      <app-text-input formControlName=\\\"password\\\" [label]=\\\"'Password'\\\" [type]=\\\"'password'\\\"></app-text-input>\\n\\n      <ul class=\\\"text-danger list-unstyled\\\" *ngIf=\\\"errors\\\">\\n        <li *ngFor=\\\"let item of errors\\\">\\n          {{item}}\\n        </li>\\n      </ul>\\n\\n      <button [disabled]=\\\"registerForm.invalid\\\" class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">\\n        Register\\n      </button>\\n    </form>\\n  </div>\\n</div>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\n\nconst routes: Routes = [\n  {path: 'login', component: LoginComponent},\n  {path: 'register', component: RegisterComponent}\n];\n\n@NgModule({\n  declarations: [],\n  imports: [CommonModule, RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AccountRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AccountRoutingModule } from './account-routing.module';\nimport { SharedModule } from '../shared/shared.module';\n\n\n\n@NgModule({\n  declarations: [LoginComponent, RegisterComponent],\n  imports: [CommonModule, AccountRoutingModule, SharedModule],\n})\nexport class AccountModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { AccountService } from '../account.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  loginForm: FormGroup;\n  returnUrl: string;\n  constructor(private accountService: AccountService,\n              private router: Router,\n              private activatedRoute: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.createLoginForm();\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl || '/shop';\n  }\n  createLoginForm() {\n    this.loginForm = new FormGroup({\n      email: new FormControl('', [Validators.required,\n        Validators.pattern('^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$')]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n\n  onSubmit() {\n    console.log(this.loginForm.value);\n    this.accountService.login(this.loginForm.value)\n      .subscribe(response => {\n        this.router.navigateByUrl(this.returnUrl);\n      },\n      error => {\n        console.log(error);\n      });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, AsyncValidatorFn } from '@angular/forms';\nimport { AccountService } from '../account.service';\nimport { Router } from '@angular/router';\nimport { timer, of } from 'rxjs';\nimport { switchMap, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n  errors: string[];\n  registerForm: FormGroup;\n  constructor(private fb: FormBuilder,\n              private accountService: AccountService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.createRegisterForm();\n  }\n  onSubmit() {\n    this.accountService.register(this.registerForm.value)\n      .subscribe(() => {\n        this.router.navigateByUrl('/shop');\n      }, error => {\n        console.log(error);\n        this.errors = error.errors;\n      });\n  }\n\n  validateEmailNotTaken(): AsyncValidatorFn {\n    return control => {\n      return timer(500).pipe(\n        switchMap(() => {\n          if (!control.value) {\n            return of(null);\n          }\n          return this.accountService.checkEmailExists(control.value).pipe(\n            map(res => {\n              return res ? {emailExists: true} : null;\n            })\n          );\n        })\n      );\n    };\n  }\n  createRegisterForm() {\n    this.registerForm = this.fb.group({\n      displayName: [null, [Validators.required]],\n      email: [\n        null,\n        [\n          Validators.required,\n          Validators.pattern('^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$'),\n        ],\n        [\n          this.validateEmailNotTaken()\n        ]\n      ],\n      password: [\n        null,\n        [\n          Validators.required,\n          Validators.pattern(\n            `(?=^.{6,10}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*()_+}{&quot;:;'?/&gt;.&lt;,])(?!.*\\s).*$`\n          ),\n        ],\n      ],\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"account-account-module-es5.js"}